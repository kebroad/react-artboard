!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("tinycolor2"),require("react/jsx-runtime")):"function"==typeof define&&define.amd?define(["exports","react","tinycolor2","react/jsx-runtime"],t):t((e||self).reactArtboard={},e.react,e.tinycolor2,e.jsxRuntime)}(this,function(e,t,r,n){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(r);function u(e,t){var r=Math.round(Math.random()*t),n=1-Math.random()/4;return a.default(e).darken(r-t/2).setAlpha(n).toPercentageRgbString()}var i=function(e,t,r){return[r[0]+e*Math.cos(t),r[1]+e*Math.sin(t)]};function l(e){return"url("+function(e){return"data:image/svg+xml;base64,"+btoa(function(e){return"<svg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+e+"' viewBox='0 0 "+e+" "+e+"'><circle r='"+e/2+"' cy='"+e/2+"' cx='"+e/2+"' stroke-width='1' stroke='rgba(0,0,0,0.5)' fill='none'/></svg>"}(e))}(e)+") "+e/2+" "+e/2+", crosshair"}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=null;function f(){var e,t,r,n,o;if(null!==h)e=h,h=null;else{do{n=(t=2*Math.random()-1)*t+(r=2*Math.random()-1)*r}while(0===n||n>=1);e=t*(o=Math.sqrt(-2*Math.log(n)/n)),h=r*o}return e}function d(e,t,r,n,o){if(r<0)return[];var a=(e[1]+t[1])/2,u=[(e[0]+t[0])/2+f()*n,a+f()*n],i=d(e,u,r-1,n/o,o);return i.push(u),i.push.apply(i,d(u,t,r-1,n/o,o)),i}function v(e,t,r){t.beginPath(),function(e,t,r){return function(e,t,r,n){for(var o=[],a=0;a<e.length;a++){var u=e[a],i=e[(a+1)%e.length];o.push(u),o.push.apply(o,d(u,i,5,r,2))}return o}(function(e,t,r){for(var n=2*Math.PI/t,o=[],a=1;a<=t;a++)o.push([r*Math.cos(n*a)+e[0],r*Math.sin(n*a)+e[1]]);return o}(e,t,r),0,r/10)}(e,Math.round(r/5),r).forEach(function(e){t.lineTo.apply(t,e)}),t.closePath(),t.fill()}function k(e,t,r,n){for(var o=Math.min(r,e.length/3),a=0;a<o;a++)n.globalAlpha=.01-.009/o*a,v(e[e.length-3*a-1],n,t+t/o*a);n.globalAlpha=.1}var g=function(e){if(!e.currentTarget)return[0,0];var t=e.currentTarget.getBoundingClientRect(),r=e.targetTouches[0];return[r.clientX-t.left,r.clientY-t.top]},b=function(e){return[e.nativeEvent.offsetX,e.nativeEvent.offsetY]},m=function(e){return 1==(1&e)},p=t.forwardRef(function(e,r){var o=e.tool,a=e.style,u=e.history,i=e.onStartStroke,l=e.onContinueStroke,s=e.onEndStroke,h=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(o[r]=e[r]);return o}(e,["tool","style","history","onStartStroke","onContinueStroke","onEndStroke"]),f=t.useState(),d=f[0],v=f[1],k=t.useState(),p=k[0],C=k[1],S=t.useState(!1),M=S[0],y=S[1],P=t.useCallback(function(e){d&&(d.save(),y(!0),null==o.startStroke||o.startStroke(e,d),null==i||i(e))},[o,d,i]),w=t.useCallback(function(e){d&&(null==o.continueStroke||o.continueStroke(e,d),null==l||l(e))},[o,d,l]),A=t.useCallback(function(){y(!1),d&&(null==o.endStroke||o.endStroke(d),null==s||s(),d.restore(),p&&u&&u.pushState(p))},[o,d,p,u,s]),T=t.useCallback(function(e){M&&w(b(e))},[w,M]),R=t.useCallback(function(e){M&&w(g(e))},[w,M]),W=t.useCallback(function(e){M||(e.preventDefault(),P(b(e)))},[M,P]),O=t.useCallback(function(e){M||P(g(e))},[M,P]),x=t.useCallback(function(){d&&p&&(d.save(),d.fillStyle="#ffffff",d.fillRect(0,0,p.width,p.height),d.restore(),p&&u&&u.pushState(p))},[d,p,u]),I=t.useCallback(function(e){if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var t=e.getContext("2d");C(e),v(t),t&&(t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),t.fillStyle="transparent",u&&(u.setContext(t),u.pushState(e)))}},[u]),j=t.useCallback(function(e){m(e.buttons)&&!M&&W(e)},[M,W]),E=t.useCallback(function(e){},[]);return t.useEffect(function(){if(M&&p){var e=function(e){if(M){var t=p.getBoundingClientRect(),r=[e.clientX-t.left,e.clientY-t.top];(r[0]<0||r[0]>p.width||r[1]<0||r[1]>p.height)&&r[0]>=-50&&r[0]<=p.width+50&&r[1]>=-50&&r[1]<=p.height+50&&w(r)}},t=function(){M&&A()};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}},[M,p,w,A]),t.useImperativeHandle(r,function(){return{download:function(e,t){if(void 0===e&&(e="image.png"),p){var r=document.createElement("a");r.href=p.toDataURL(t),r.download=e,r.click()}},clear:x,getImageAsDataUri:function(e){return null==p?void 0:p.toDataURL(e)},context:d}},[p,d,x]),n.jsx("canvas",Object.assign({style:c({cursor:null==o?void 0:o.cursor,touchAction:"none"},a),onTouchStart:O,onMouseDown:W,onMouseEnter:j,onMouseMove:M?T:void 0,onTouchMove:M?R:void 0,onMouseUp:A,onMouseOut:E,onTouchEnd:A,ref:I},h),void 0)}),C=function(e,t){try{var r=new Image;return r.onload=function(){e.canvas.width=r.width,e.canvas.height=r.height,e.drawImage(r,0,0),URL.revokeObjectURL(r.src)},r.src=URL.createObjectURL(t),Promise.resolve()}catch(e){return Promise.reject(e)}};e.Artboard=p,e.circleCursor=l,e.getMousePoint=b,e.getTouchPoint=g,e.mouseButtonIsDown=m,e.useAcrylic=function(e){var r=e.color,n=void 0===r?"#FF6B35":r,o=e.strokeWidth,a=void 0===o?20:o,u=e.opacity,i=void 0===u?.9:u,c=t.useRef();return{name:"Acrylic",startStroke:t.useCallback(function(e,t){t.globalAlpha=i,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.globalCompositeOperation="source-over",c.current=e},[n,i]),continueStroke:t.useCallback(function(e,t){if(c.current){t.beginPath(),t.lineWidth=a;var r=2*(Math.random()-.5);t.lineWidth=Math.max(1,a+r);var n=c.current[0]+.3*(e[0]-c.current[0]),o=c.current[1]+.3*(e[1]-c.current[1]),u=c.current[0]+.7*(e[0]-c.current[0]),l=c.current[1]+.7*(e[1]-c.current[1]);t.moveTo(c.current[0],c.current[1]),t.bezierCurveTo(n,o,u,l,e[0],e[1]),t.stroke(),Math.random()>.8&&(t.beginPath(),t.globalAlpha=.3*i,t.lineWidth=.6*a,t.moveTo(c.current[0],c.current[1]),t.lineTo(e[0],e[1]),t.stroke(),t.globalAlpha=i),c.current=e}else c.current=e},[a,i]),endStroke:t.useCallback(function(e){e.globalAlpha=1},[]),cursor:l(a)}},e.useAirbrush=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.strokeWidth,u=void 0===o?25:o,i=t.useCallback(function(e,t){t.globalCompositeOperation="darken",t.lineWidth=u,t.lineJoin=t.lineCap="round",t.strokeStyle=n,t.shadowBlur=.5*u,t.shadowColor=a.default(n).setAlpha(.5).toPercentageRgbString(),console.log(t.shadowColor),t.moveTo(e[0],e[1]),t.beginPath()},[n,u]),c=t.useCallback(function(e){e.globalCompositeOperation="source-over"},[]);return{name:"Airbrush",startStroke:i,continueStroke:t.useCallback(function(e,t){t.lineTo(e[0],e[1]),t.stroke()},[]),endStroke:c,cursor:l(u)}},e.useBrush=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.strokeWidth,a=void 0===o?25:o,c=e.varyBrightness,s=void 0===c?5:c,h=t.useState([]),f=h[0],d=h[1],v=t.useRef(),k=t.useRef();return{name:"Paintbrush",startStroke:t.useCallback(function(e){v.current=void 0,d(function(e,t,r){for(var n=[],o=Math.round(e/3),a=e/o,i=0;i<o;i++){var l=0===i?0:a*i+Math.random()*a/2-a/2;n.push({distance:l,thickness:2*Math.random()+2,colour:u(t,r)})}return n}(a,n,s)),k.current=e},[d,a,n,s]),continueStroke:t.useCallback(function(e,t){if(k.current){var r=(s=v.current,l=k.current,c=e,h=(Math.atan2(c[1]-l[1],c[0]-l[0])-Math.PI/2)%(2*Math.PI),void 0===s?h:s-(n=h,o=2*Math.PI,(u=(s-(n>0?n:n+o)+Math.PI)%o-Math.PI)<-Math.PI?u+o:u));void 0===v.current&&(v.current=r%(2*Math.PI)),function(e,t,r,n,o,a,u){e.forEach(function(e){u.beginPath(),function(e,t,r,n,o){o.beginPath(),o.moveTo(e[0],e[1]),o.strokeStyle=r.colour,o.lineWidth=r.thickness,o.lineCap="round",o.lineJoin="round",o.shadowColor=r.colour,o.shadowBlur=r.thickness/2,o.quadraticCurveTo(n[0],n[1],t[0],t[1]),o.lineTo(t[0],t[1]),o.stroke()}(i(e.distance-a/2,n,t),i(e.distance-a/2,o,r),e,i(e.distance-a/2,o,t),u)})}(f,k.current,e,v.current,r,a,t),v.current=r%(2*Math.PI),k.current=e}else k.current=e;var n,o,u,l,c,s,h},[f,a]),cursor:l(a)}},e.useCalligraphy=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.strokeWidth,a=void 0===o?20:o,u=e.angle,i=void 0===u?45:u,c=t.useRef(),s=t.useRef();return{name:"Calligraphy",startStroke:t.useCallback(function(e,t){t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",c.current=e,s.current=Date.now()},[n]),continueStroke:t.useCallback(function(e,t){if(!c.current||!s.current)return c.current=e,void(s.current=Date.now());var r=Date.now(),n=Math.max(r-s.current,1),o=e[0]-c.current[0],u=e[1]-c.current[1],l=Math.sqrt(o*o+u*u)/n,h=Math.atan2(u,o),f=Math.abs(h-i*Math.PI/180),d=Math.min(f,Math.PI-f),v=.8*Math.sin(d)+.2,k=Math.max(.3,1-.02*l),g=a*v*k;t.beginPath(),t.lineWidth=g,t.moveTo(c.current[0],c.current[1]),t.lineTo(e[0],e[1]),t.stroke(),c.current=e,s.current=r},[a,i]),cursor:l(a)}},e.useCharcoal=function(e){var r=e.color,n=void 0===r?"#1a1a1a":r,o=e.strokeWidth,a=void 0===o?15:o,u=e.roughness,i=void 0===u?.7:u,c=t.useRef();return{name:"Charcoal",startStroke:t.useCallback(function(e,t){t.globalAlpha=.6,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.globalCompositeOperation="multiply",c.current=e},[n]),continueStroke:t.useCallback(function(e,t){if(c.current){for(var r=Math.floor(a/3),n=0;n<r;n++){t.beginPath();var o=(Math.random()-.5)*a*i,u=(Math.random()-.5)*a*i;t.lineWidth=3*Math.random()+1,t.moveTo(c.current[0]+o,c.current[1]+u),t.lineTo(e[0]+o,e[1]+u),t.stroke()}c.current=e}else c.current=e},[a,i]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.globalCompositeOperation="source-over"},[]),cursor:l(a)}},e.useCrayon=function(e){var r=e.color,n=void 0===r?"#DC143C":r,o=e.strokeWidth,a=void 0===o?12:o,u=e.pressure,i=void 0===u?.6:u,c=t.useRef();return{name:"Crayon",startStroke:t.useCallback(function(e,t){t.globalAlpha=i,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.globalCompositeOperation="multiply",c.current=e},[n,i]),continueStroke:t.useCallback(function(e,t){if(c.current){for(var r=0;r<8;r++){t.beginPath();var n=.4*a,o=r/8*Math.PI*2,u=Math.cos(o)*n*Math.random(),l=Math.sin(o)*n*Math.random();t.lineWidth=Math.max(1,a*(.3+.7*Math.random())),t.globalAlpha=i*(.2+.6*Math.random()),t.moveTo(c.current[0]+u,c.current[1]+l),t.lineTo(e[0]+u,e[1]+l),t.stroke()}c.current=e}else c.current=e},[a,i]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.globalCompositeOperation="source-over"},[]),cursor:l(a)}},e.useEraser=function(e){var r=e.strokeWidth,n=void 0===r?25:r;return{name:"Eraser",startStroke:t.useCallback(function(e,t){t.globalCompositeOperation="source-over",t.lineWidth=n,t.strokeStyle="#ffffff",t.lineJoin=t.lineCap="round",t.moveTo(e[0],e[1]),t.beginPath()},[n]),continueStroke:t.useCallback(function(e,t){t.lineTo(e[0],e[1]),t.stroke()},[]),cursor:l(n)}},e.useHistory=function(e){var r=t.useRef([]),n=t.useRef(0),o=t.useState(),a=o[0],u=o[1],i=t.useState(!1),l=i[0],c=i[1],s=t.useState(!1),h=s[0],f=s[1],d=t.useCallback(function(t){try{var o=n.current;return a?(0!==o&&(r.current=r.current.slice(0,-o),n.current=0),Promise.resolve(new Promise(function(e){return t.toBlob(e)})).then(function(t){return t&&r.current.push(t),e&&r.current.length>e&&(r.current=r.current.slice(-e)),c(r.current.length>1),f(!1),!0})):(console.error("Context not initialised"),Promise.resolve(!1))}catch(e){return Promise.reject(e)}},[n,r,a]),v=t.useCallback(function(){try{var e=n.current;return a?e+1>=r.current.length?(console.log("nope"),Promise.resolve(!1)):Promise.resolve(C(a,r.current[r.current.length-(e+2)])).then(function(){return n.current++,c(n.current+1<r.current.length),f(!0),!0}):(console.error("Context not initialised"),Promise.resolve(!1))}catch(e){return Promise.reject(e)}},[n,r,a]),k=t.useCallback(function(){try{var e=n.current;return a?e<=0?Promise.resolve(!1):Promise.resolve(C(a,r.current[r.current.length-e])).then(function(){return n.current--,c(n.current+1<r.current.length),f(n.current>0),!0}):(console.error("Context not initialised"),Promise.resolve(!1))}catch(e){return Promise.reject(e)}},[r,n,a]),g=t.useCallback(function(){r.current=[]},[r]);return{history:t.useMemo(function(){return{setContext:function(e){u(e)},pushState:d}},[u,d]),undo:v,redo:k,clear:g,canUndo:l,canRedo:h}},e.useInkPen=function(e){var r=e.color,n=void 0===r?"#000080":r,o=e.strokeWidth,a=void 0===o?4:o,u=e.flow,i=void 0===u?.9:u,c=t.useRef(),s=t.useRef(1);return{name:"Ink Pen",startStroke:t.useCallback(function(e,t){t.globalAlpha=i,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.shadowColor=n,t.shadowBlur=1,c.current=e,s.current=.5},[n,i]),continueStroke:t.useCallback(function(e,t){if(c.current){var r=e[0]-c.current[0],n=e[1]-c.current[1],o=Math.sqrt(r*r+n*n),u=Math.max(.3,Math.min(1,1-.01*o));s.current=.7*s.current+.3*u;var i=a*s.current;t.beginPath(),t.lineWidth=i;var l=(c.current[0]+e[0])/2,h=(c.current[1]+e[1])/2;t.moveTo(c.current[0],c.current[1]),t.quadraticCurveTo(c.current[0],c.current[1],l,h),t.stroke(),c.current=e}else c.current=e},[a]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.shadowBlur=0},[]),cursor:l(a)}},e.useMarker=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.strokeWidth,a=void 0===o?25:o,u=t.useRef();return{name:"Marker",startStroke:t.useCallback(function(e,t){t.lineWidth=3,t.lineJoin=t.lineCap="round",u.current=e,t.strokeStyle=n},[n]),continueStroke:t.useCallback(function(e,t){if(u.current){if(u.current[0]!==e[0]||u.current[1]!==e[1]){t.beginPath();for(var r=0;r<a;r+=2){var n=Math.round(a/2-r);t.globalAlpha=1/a*(a-r),t.moveTo(u.current[0]-n,u.current[1]-n),t.lineTo(e[0]-n,e[1]-n),t.stroke()}t.globalAlpha=1,t.beginPath(),u.current=e}}else u.current=e},[a,u]),cursor:l(a)}},e.useOilPaint=function(e){var r=e.color,n=void 0===r?"#8B4513":r,o=e.strokeWidth,u=void 0===o?25:o,i=e.blending,c=void 0===i?.6:i,s=t.useRef();return{name:"Oil Paint",startStroke:t.useCallback(function(e,t){t.globalAlpha=.8,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.globalCompositeOperation="source-over",s.current=e},[n]),continueStroke:t.useCallback(function(e,t){if(s.current){for(var r=0;r<5;r++){t.beginPath();var o=a.default(n),i=20*(Math.random()-.5),l=o.lighten(i).toString();t.strokeStyle=l,t.lineWidth=u+4*(Math.random()-.5);var h=(Math.random()-.5)*u*.3,f=(Math.random()-.5)*u*.3;t.moveTo(s.current[0]+h,s.current[1]+f),t.lineTo(e[0]+h,e[1]+f),r>2?(t.globalCompositeOperation="multiply",t.globalAlpha=.5*c):(t.globalCompositeOperation="source-over",t.globalAlpha=.8),t.stroke()}s.current=e}else s.current=e},[n,u,c]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.globalCompositeOperation="source-over"},[]),cursor:l(u)}},e.usePencil=function(e){var r=e.color,n=void 0===r?"#2c2c2c":r,o=e.strokeWidth,a=void 0===o?3:o,u=e.opacity,i=void 0===u?.8:u;return{name:"Pencil",startStroke:t.useCallback(function(e,t){t.globalAlpha=i,t.lineWidth=a,t.strokeStyle=n,t.lineCap="round",t.lineJoin="round",t.globalCompositeOperation="multiply",t.moveTo(e[0],e[1]),t.beginPath()},[n,a,i]),continueStroke:t.useCallback(function(e,t){var r=.5*(Math.random()-.5);t.lineWidth=a+r,t.lineTo(e[0],e[1]),t.stroke()},[a]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.globalCompositeOperation="source-over"},[]),cursor:l(a)}},e.useShadingBrush=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.neighbourColor,u=e.distanceThreshold,i=void 0===u?40:u,l=e.neighbourStrokeWidth,c=void 0===l?1:l,h=e.spreadFactor,f=void 0===h?.9:h;o||(o=a.default(n).setAlpha(.2).toPercentageRgbString());var d=t.useRef([]),v=i*i;return{name:"Shading",startStroke:t.useCallback(function(e,t){t.globalCompositeOperation="darken",t.lineWidth=1,t.lineJoin=t.lineCap="round",d.current=[e]},[]),continueStroke:t.useCallback(function(e,t){t.strokeStyle=n,t.lineWidth=1,d.current.push(e),t.beginPath();var r=d.current[d.current.length-2];t.moveTo(r[0],r[1]),t.lineTo.apply(t,e),t.stroke(),t.lineWidth=c;for(var a,u=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(d.current);!(a=u()).done;){var i=a.value,l=i[0]-e[0],h=i[1]-e[1],k=l*l+h*h;k<v&&Math.random()>k/v&&(t.beginPath(),t.strokeStyle=o,t.moveTo(e[0]+l*f,e[1]+h*f),t.lineTo(i[0]-l*f,i[1]-h*f),t.stroke())}},[c,n,f,v,o]),endStroke:t.useCallback(function(e){e.globalCompositeOperation="source-over"},[]),cursor:"crosshair"}},e.useSmudge=function(e){var r=e.strokeWidth,n=void 0===r?30:r,o=e.strength,a=void 0===o?.8:o,u=t.useRef(),i=t.useRef(),c=t.useRef();return{name:"Smudge",startStroke:t.useCallback(function(e,t){u.current=e,i.current=t.canvas;var r=n,o=Math.max(0,e[0]-r),a=Math.max(0,e[1]-r),l=Math.min(i.current.width-o,2*r),s=Math.min(i.current.height-a,2*r);l>0&&s>0&&(c.current=t.getImageData(o,a,l,s))},[n]),continueStroke:t.useCallback(function(e,t){if(u.current&&c.current&&i.current){var r=e[0]-u.current[0],o=e[1]-u.current[1];if(!(Math.sqrt(r*r+o*o)<2)){var l=document.createElement("canvas"),s=l.getContext("2d");if(s){l.width=2*n,l.height=2*n,s.putImageData(c.current,0,0),t.globalAlpha=a,t.globalCompositeOperation="source-over";for(var h=0;h<5;h++){var f=(h+1)/5;t.drawImage(l,e[0]-n+r*f*.3,e[1]-n+o*f*.3,2*n,2*n)}var d=n,v=Math.max(0,e[0]-d),k=Math.max(0,e[1]-d),g=Math.min(i.current.width-v,2*d),b=Math.min(i.current.height-k,2*d);g>0&&b>0&&(c.current=t.getImageData(v,k,g,b)),u.current=e}}}else u.current=e},[n,a]),endStroke:t.useCallback(function(e){e.globalAlpha=1,e.globalCompositeOperation="source-over"},[]),cursor:l(n)}},e.useWatercolor=function(e){var r=e.color,n=void 0===r?"#000000":r,o=e.strokeWidth,a=void 0===o?25:o,u=t.useRef([]),i=t.useCallback(function(e,t){t.fillStyle=n,t.shadowColor=n,t.globalAlpha=.01,u.current=[e],k(u.current,1.1*a,1,t)},[n,a]),c=t.useCallback(function(){u.current=[]},[]);return{name:"Watercolor",startStroke:i,continueStroke:t.useCallback(function(e,t){u.current.push(e),k(u.current,a,5,t)},[a]),endStroke:c,cursor:l(a)}}});
//# sourceMappingURL=index.umd.js.map
